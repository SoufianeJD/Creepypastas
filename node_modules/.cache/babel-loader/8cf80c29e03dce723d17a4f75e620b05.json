{"ast":null,"code":"import _classCallCheck from\"C:/Users/14382/Desktop/DECInfodeGestion/S5/PROGRAMMATION AVEC FRAMEWORK C\\xD4T\\xC9 CLIENT/ReactEscapeRoom_SoufianeJD/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/14382/Desktop/DECInfodeGestion/S5/PROGRAMMATION AVEC FRAMEWORK C\\xD4T\\xC9 CLIENT/ReactEscapeRoom_SoufianeJD/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Users/14382/Desktop/DECInfodeGestion/S5/PROGRAMMATION AVEC FRAMEWORK C\\xD4T\\xC9 CLIENT/ReactEscapeRoom_SoufianeJD/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Users/14382/Desktop/DECInfodeGestion/S5/PROGRAMMATION AVEC FRAMEWORK C\\xD4T\\xC9 CLIENT/ReactEscapeRoom_SoufianeJD/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/14382/Desktop/DECInfodeGestion/S5/PROGRAMMATION AVEC FRAMEWORK C\\xD4T\\xC9 CLIENT/ReactEscapeRoom_SoufianeJD/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import axios from'axios';import GenListecomment from'../Liste/genlistecomments';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Comments=/*#__PURE__*/function(_React$Component){_inherits(Comments,_React$Component);var _super=_createSuper(Comments);function Comments(props){var _this;_classCallCheck(this,Comments);_this=_super.call(this,props);_this.deletecomment=_this.deletecomment.bind(_assertThisInitialized(_this));_this.state={comments:[]};return _this;}_createClass(Comments,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get('http://10.30.40.121:3528/Selectcomment').then(function(response){if(response.data.length>0){_this2.setState({comments:response.data});}}).catch(function(error){console.log(error);});}},{key:\"deletecomment\",value:function deletecomment(id){axios.delete('http://10.30.40.121:3528/Deletecomment/'+id).then(function(response){console.log(response.data);});this.setState({comments:this.state.comments.filter(function(el){return el._id!==id;})});}},{key:\"commentList\",value:function commentList(){var _this3=this;return this.state.comments.map(function(commentCourant){return/*#__PURE__*/_jsx(GenListecomment,{comment:commentCourant,deletecomment:_this3.deletecomment},commentCourant._id);});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\xA0\\xA0Les avis des visiteurs\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"thead-light\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Les commentaires\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Le commentateur\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:this.commentList()})]})]});}}]);return Comments;}(React.Component);export default Comments;","map":{"version":3,"sources":["C:/Users/14382/Desktop/DECInfodeGestion/S5/PROGRAMMATION AVEC FRAMEWORK CÔTÉ CLIENT/ReactEscapeRoom_SoufianeJD/frontend/src/components/Liste/comments.js"],"names":["React","axios","GenListecomment","Comments","props","deletecomment","bind","state","comments","get","then","response","data","length","setState","catch","error","console","log","id","delete","filter","el","_id","map","commentCourant","commentList","Component"],"mappings":"osCAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,eAAP,KAA4B,2BAA5B,C,2FAEMC,CAAAA,Q,gHAEN,kBAAYC,KAAZ,CAAkB,0CAChB,uBAAMA,KAAN,EACA,MAAKC,aAAL,CAAqB,MAAKA,aAAL,CAAmBC,IAAnB,+BAArB,CACA,MAAKC,KAAL,CAAW,CACTC,QAAQ,CAAC,EADA,CAAX,CAHgB,aAMjB,C,sDAED,4BAAoB,iBAClBP,KAAK,CAACQ,GAAN,CAAU,wCAAV,EACGC,IADH,CACQ,SAAAC,QAAQ,CAAI,CACtB,GAAIA,QAAQ,CAACC,IAAT,CAAcC,MAAd,CAAqB,CAAzB,CAA2B,CACrB,MAAI,CAACC,QAAL,CAAc,CACZN,QAAQ,CAACG,QAAQ,CAACC,IADN,CAAd,EAEL,CACI,CANH,EAOGG,KAPH,CAOS,SAACC,KAAD,CAAW,CAChBC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACD,CATH,EAUD,C,6BAED,uBAAcG,EAAd,CAAkB,CAChBlB,KAAK,CAACmB,MAAN,CAAa,0CAA0CD,EAAvD,EACGT,IADH,CACQ,SAAAC,QAAQ,CAAI,CAAEM,OAAO,CAACC,GAAR,CAAYP,QAAQ,CAACC,IAArB,EAA2B,CADjD,EAGA,KAAKE,QAAL,CAAc,CACZN,QAAQ,CAAE,KAAKD,KAAL,CAAWC,QAAX,CAAoBa,MAApB,CAA2B,SAAAC,EAAE,QAAIA,CAAAA,EAAE,CAACC,GAAH,GAAWJ,EAAf,EAA7B,CADE,CAAd,EAGD,C,2BAED,sBAAa,iBACb,MAAO,MAAKZ,KAAL,CAAWC,QAAX,CAAoBgB,GAApB,CAAwB,SAAAC,cAAc,CAAI,CACjD,mBAAO,KAAC,eAAD,EAAiB,OAAO,CAAEA,cAA1B,CAA0C,aAAa,CAAE,MAAI,CAACpB,aAA9D,EAAmFoB,cAAc,CAACF,GAAlG,CAAP,CACC,CAFM,CAAP,CAEG,C,sBAEA,iBAAS,CACR,mBAEE,aAAK,SAAS,CAAC,WAAf,wBACA,sDADA,cAEA,eAAO,SAAS,CAAC,OAAjB,wBACA,cAAO,SAAS,CAAC,aAAjB,uBACC,mCACI,wCADJ,cAEI,uCAFJ,GADD,EADA,cASA,uBACD,KAAKG,WAAL,EADC,EATA,GAFA,GAFF,CAqBD,C,sBA3DoB1B,KAAK,CAAC2B,S,EA8D7B,cAAexB,CAAAA,QAAf","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport GenListecomment from '../Liste/genlistecomments';\n\nclass Comments extends React.Component {\n\nconstructor(props){\n  super(props);\n  this.deletecomment = this.deletecomment.bind(this)\n  this.state={\n    comments:[]\n  }\n}\n\ncomponentDidMount() {\n  axios.get('http://10.30.40.121:3528/Selectcomment')\n    .then(response => {\nif (response.data.length>0){\n      this.setState({\n        comments:response.data})\n}\n    })\n    .catch((error) => {\n      console.log(error);\n    })\n}\n\ndeletecomment(id) {\n  axios.delete('http://10.30.40.121:3528/Deletecomment/'+id)\n    .then(response => { console.log(response.data)});\n\n  this.setState({\n    comments: this.state.comments.filter(el => el._id !== id)\n  })\n}\n\ncommentList(){\nreturn this.state.comments.map(commentCourant => {\nreturn <GenListecomment comment={commentCourant} deletecomment={this.deletecomment}  key={commentCourant._id}/>;\n})}\n\n   render() {\n    return (\n      \n      <div className=\"container\">\n      <h3>&nbsp;&nbsp;Les avis des visiteurs</h3>\n      <table className=\"table\">\n      <thead className=\"thead-light\">\n       <tr>\n           <th>Les commentaires</th>\n           <th>Le commentateur</th>    \n       </tr>\n     \n      </thead>\n      \n      <tbody>\n    {this.commentList()}\n    \n      </tbody>\n    \n      </table>\n   \n      </div> );\n  }\n}\n  \nexport default Comments;"]},"metadata":{},"sourceType":"module"}