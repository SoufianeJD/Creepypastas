{"ast":null,"code":"import _classCallCheck from\"C:/Users/14382/Desktop/Creepypastas_SoufianeJD/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/14382/Desktop/Creepypastas_SoufianeJD/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Users/14382/Desktop/Creepypastas_SoufianeJD/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Users/14382/Desktop/Creepypastas_SoufianeJD/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/14382/Desktop/Creepypastas_SoufianeJD/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import axios from'axios';import GenListstoryuser from'./GenListstoryuser';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Stories=/*#__PURE__*/function(_React$Component){_inherits(Stories,_React$Component);var _super=_createSuper(Stories);function Stories(props){var _this;_classCallCheck(this,Stories);_this=_super.call(this,props);_this.delstory=_this.delstory.bind(_assertThisInitialized(_this));_this.state={stories:[]};return _this;}_createClass(Stories,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get('http://localhost:3528/Selectstory').then(function(response){if(response.data.length>0){_this2.setState({stories:response.data});}}).catch(function(error){console.log(error);});}},{key:\"delstory\",value:function delstory(id){axios.delete('http://localhost:3528/Delstory/'+id).then(function(response){console.log(response.data);});this.setState({stories:this.state.stories.filter(function(el){return el._id!==id;})});}},{key:\"storyList\",value:function storyList(){var _this3=this;return this.state.stories.map(function(storyCourant){return/*#__PURE__*/_jsx(GenListstoryuser,{story:storyCourant,delstory:_this3.delstory},storyCourant._id);});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"blockquote\",{class:\"blockquote text-center\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"List Stories\"})}),/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"thead-light\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Title\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Author\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:this.storyList()})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{})]});}}]);return Stories;}(React.Component);export default Stories;","map":{"version":3,"sources":["C:/Users/14382/Desktop/Creepypastas_SoufianeJD/frontend/src/components/User/Stories.js"],"names":["React","axios","GenListstoryuser","Stories","props","delstory","bind","state","stories","get","then","response","data","length","setState","catch","error","console","log","id","delete","filter","el","_id","map","storyCourant","storyList","Component"],"mappings":"s2BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,gBAAP,KAA6B,oBAA7B,C,2FAEMC,CAAAA,O,8GAEN,iBAAYC,KAAZ,CAAkB,yCAChB,uBAAMA,KAAN,EACA,MAAKC,QAAL,CAAgB,MAAKA,QAAL,CAAcC,IAAd,+BAAhB,CACA,MAAKC,KAAL,CAAW,CACTC,OAAO,CAAC,EADC,CAAX,CAHgB,aAMjB,C,qDAED,4BAAoB,iBAClBP,KAAK,CAACQ,GAAN,CAAU,mCAAV,EACGC,IADH,CACQ,SAAAC,QAAQ,CAAI,CACtB,GAAIA,QAAQ,CAACC,IAAT,CAAcC,MAAd,CAAqB,CAAzB,CAA2B,CACrB,MAAI,CAACC,QAAL,CAAc,CACZN,OAAO,CAACG,QAAQ,CAACC,IADL,CAAd,EAEL,CACI,CANH,EAOGG,KAPH,CAOS,SAACC,KAAD,CAAW,CAChBC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACD,CATH,EAUD,C,wBAED,kBAASG,EAAT,CAAa,CACXlB,KAAK,CAACmB,MAAN,CAAa,kCAAkCD,EAA/C,EACGT,IADH,CACQ,SAAAC,QAAQ,CAAI,CAAEM,OAAO,CAACC,GAAR,CAAYP,QAAQ,CAACC,IAArB,EAA2B,CADjD,EAGA,KAAKE,QAAL,CAAc,CACZN,OAAO,CAAE,KAAKD,KAAL,CAAWC,OAAX,CAAmBa,MAAnB,CAA0B,SAAAC,EAAE,QAAIA,CAAAA,EAAE,CAACC,GAAH,GAAWJ,EAAf,EAA5B,CADG,CAAd,EAGD,C,yBAED,oBAAW,iBACX,MAAO,MAAKZ,KAAL,CAAWC,OAAX,CAAmBgB,GAAnB,CAAuB,SAAAC,YAAY,CAAI,CAC9C,mBAAO,KAAC,gBAAD,EAAkB,KAAK,CAAEA,YAAzB,CAAuC,QAAQ,CAAE,MAAI,CAACpB,QAAtD,EAAsEoB,YAAY,CAACF,GAAnF,CAAP,CACC,CAFM,CAAP,CAEG,C,sBAEA,iBAAS,CACR,mBAEE,aAAK,SAAS,CAAC,WAAf,wBACA,aADA,kBACM,aADN,kBACY,aADZ,kBACkB,aADlB,kBACwB,aADxB,cAEA,mBAAY,KAAK,CAAC,wBAAlB,uBACA,oCADA,EAFA,cAKA,eAAO,SAAS,CAAC,OAAjB,wBACA,cAAO,SAAS,CAAC,aAAjB,uBACC,mCACI,6BADJ,cAEI,8BAFJ,GADD,EADA,cAUA,uBACD,KAAKG,SAAL,EADC,EAVA,GALA,cAqBH,aArBG,cAqBE,aArBF,GAFF,CAyBD,C,qBA/DmB1B,KAAK,CAAC2B,S,EAkE5B,cAAexB,CAAAA,OAAf","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport GenListstoryuser from './GenListstoryuser';\r\n\r\nclass Stories extends React.Component {\r\n\r\nconstructor(props){\r\n  super(props);\r\n  this.delstory = this.delstory.bind(this)\r\n  this.state={\r\n    stories:[]\r\n  }\r\n}\r\n\r\ncomponentDidMount() {\r\n  axios.get('http://localhost:3528/Selectstory')\r\n    .then(response => {\r\nif (response.data.length>0){\r\n      this.setState({\r\n        stories:response.data})\r\n}\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n    })\r\n}\r\n\r\ndelstory(id) {\r\n  axios.delete('http://localhost:3528/Delstory/'+id)\r\n    .then(response => { console.log(response.data)});\r\n\r\n  this.setState({\r\n    stories: this.state.stories.filter(el => el._id !== id)\r\n  })\r\n}\r\n\r\nstoryList(){\r\nreturn this.state.stories.map(storyCourant => {\r\nreturn <GenListstoryuser story={storyCourant} delstory={this.delstory}  key={storyCourant._id}/>;\r\n})}\r\n\r\n   render() {\r\n    return (\r\n\r\n      <div className=\"container\">\r\n      <br/> <br/> <br/> <br/> <br/>\r\n      <blockquote class=\"blockquote text-center\">\r\n      <h3>List Stories</h3>\r\n      </blockquote>\r\n      <table className=\"table\">\r\n      <thead className=\"thead-light\">\r\n       <tr>\r\n           <th>Title</th>\r\n           <th>Author</th>\r\n\r\n       </tr>\r\n     \r\n      </thead>\r\n      \r\n      <tbody>\r\n    {this.storyList()}\r\n    \r\n      </tbody>\r\n    \r\n      </table> \r\n   <br/><br/>\r\n      </div> );\r\n  }\r\n}\r\n  \r\nexport default Stories;"]},"metadata":{},"sourceType":"module"}