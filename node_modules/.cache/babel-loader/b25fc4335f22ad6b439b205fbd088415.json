{"ast":null,"code":"import _classCallCheck from\"C:/Users/14382/Desktop/MERN_Creepypasta_SoufianeJD/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/14382/Desktop/MERN_Creepypasta_SoufianeJD/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Users/14382/Desktop/MERN_Creepypasta_SoufianeJD/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Users/14382/Desktop/MERN_Creepypasta_SoufianeJD/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/14382/Desktop/MERN_Creepypasta_SoufianeJD/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import axios from'axios';import GenListstory from'./GenListstory';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AdminStory=/*#__PURE__*/function(_React$Component){_inherits(AdminStory,_React$Component);var _super=_createSuper(AdminStory);function AdminStory(props){var _this;_classCallCheck(this,AdminStory);_this=_super.call(this,props);_this.delstory=_this.delstory.bind(_assertThisInitialized(_this));_this.state={stories:[]};return _this;}_createClass(AdminStory,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get('https://escaperoomandcreepypastas.herokuapp.com/story/Selectstory').then(function(response){if(response.data.length>0){_this2.setState({stories:response.data});}}).catch(function(error){console.log(error);});}},{key:\"delstory\",value:function delstory(id){axios.delete('https://escaperoomandcreepypastas.herokuapp.com/story/Delstory/'+id).then(function(response){console.log(response.data);});this.setState({stories:this.state.stories.filter(function(el){return el._id!==id;})});}},{key:\"storyList\",value:function storyList(){var _this3=this;return this.state.stories.map(function(storyCourant){return/*#__PURE__*/_jsx(GenListstory,{story:storyCourant,delstory:_this3.delstory},storyCourant._id);});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h3\",{children:\"Story List\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"thead-light\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Title\"}),/*#__PURE__*/_jsx(\"th\",{children:\"User\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:this.storyList()})]})]});}}]);return AdminStory;}(React.Component);export default AdminStory;","map":{"version":3,"sources":["C:/Users/14382/Desktop/MERN_Creepypasta_SoufianeJD/client/src/components/Admin/AdminStory.js"],"names":["React","axios","GenListstory","AdminStory","props","delstory","bind","state","stories","get","then","response","data","length","setState","catch","error","console","log","id","delete","filter","el","_id","map","storyCourant","storyList","Component"],"mappings":"g3BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,C,2FAEMC,CAAAA,U,oHAEN,oBAAYC,KAAZ,CAAkB,4CAChB,uBAAMA,KAAN,EACA,MAAKC,QAAL,CAAgB,MAAKA,QAAL,CAAcC,IAAd,+BAAhB,CACA,MAAKC,KAAL,CAAW,CACTC,OAAO,CAAC,EADC,CAAX,CAHgB,aAMjB,C,wDAED,4BAAoB,iBAClBP,KAAK,CAACQ,GAAN,CAAU,mEAAV,EACGC,IADH,CACQ,SAAAC,QAAQ,CAAI,CACtB,GAAIA,QAAQ,CAACC,IAAT,CAAcC,MAAd,CAAqB,CAAzB,CAA2B,CACrB,MAAI,CAACC,QAAL,CAAc,CACZN,OAAO,CAACG,QAAQ,CAACC,IADL,CAAd,EAEL,CACI,CANH,EAOGG,KAPH,CAOS,SAACC,KAAD,CAAW,CAChBC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACD,CATH,EAUD,C,wBAED,kBAASG,EAAT,CAAa,CACXlB,KAAK,CAACmB,MAAN,CAAa,kEAAkED,EAA/E,EACGT,IADH,CACQ,SAAAC,QAAQ,CAAI,CAAEM,OAAO,CAACC,GAAR,CAAYP,QAAQ,CAACC,IAArB,EAA2B,CADjD,EAGA,KAAKE,QAAL,CAAc,CACZN,OAAO,CAAE,KAAKD,KAAL,CAAWC,OAAX,CAAmBa,MAAnB,CAA0B,SAAAC,EAAE,QAAIA,CAAAA,EAAE,CAACC,GAAH,GAAWJ,EAAf,EAA5B,CADG,CAAd,EAGD,C,yBAED,oBAAW,iBACX,MAAO,MAAKZ,KAAL,CAAWC,OAAX,CAAmBgB,GAAnB,CAAuB,SAAAC,YAAY,CAAI,CAC9C,mBAAO,KAAC,YAAD,EAAc,KAAK,CAAEA,YAArB,CAAmC,QAAQ,CAAE,MAAI,CAACpB,QAAlD,EAAkEoB,YAAY,CAACF,GAA/E,CAAP,CACC,CAFM,CAAP,CAEG,C,sBAEA,iBAAS,CACR,mBAEE,aAAK,SAAS,CAAC,WAAf,wBACE,aADF,kBACQ,aADR,kBACc,aADd,kBACoB,aADpB,kBAC0B,aAD1B,cAEA,kCAFA,cAGA,eAAO,SAAS,CAAC,OAAjB,wBACA,cAAO,SAAS,CAAC,aAAjB,uBACC,mCACI,6BADJ,cAEI,4BAFJ,GADD,EADA,cAUA,uBACD,KAAKG,SAAL,EADC,EAVA,GAHA,GAFF,CAwBD,C,wBA9DsB1B,KAAK,CAAC2B,S,EAiE/B,cAAexB,CAAAA,UAAf","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport GenListstory from './GenListstory';\r\n\r\nclass AdminStory extends React.Component {\r\n\r\nconstructor(props){\r\n  super(props);\r\n  this.delstory = this.delstory.bind(this)\r\n  this.state={\r\n    stories:[]\r\n  }\r\n}\r\n\r\ncomponentDidMount() {\r\n  axios.get('https://escaperoomandcreepypastas.herokuapp.com/story/Selectstory')\r\n    .then(response => {\r\nif (response.data.length>0){\r\n      this.setState({\r\n        stories:response.data})\r\n}\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n    })\r\n}\r\n\r\ndelstory(id) {\r\n  axios.delete('https://escaperoomandcreepypastas.herokuapp.com/story/Delstory/'+id)\r\n    .then(response => { console.log(response.data)});\r\n\r\n  this.setState({\r\n    stories: this.state.stories.filter(el => el._id !== id)\r\n  })\r\n}\r\n\r\nstoryList(){\r\nreturn this.state.stories.map(storyCourant => {\r\nreturn <GenListstory story={storyCourant} delstory={this.delstory}  key={storyCourant._id}/>;\r\n})}\r\n\r\n   render() {\r\n    return (\r\n      \r\n      <div className=\"container\">\r\n        <br/> <br/> <br/> <br/> <br/>\r\n      <h3>Story List</h3>\r\n      <table className=\"table\">\r\n      <thead className=\"thead-light\">\r\n       <tr>\r\n           <th>Title</th>\r\n           <th>User</th>\r\n\r\n       </tr>\r\n     \r\n      </thead>\r\n      \r\n      <tbody>\r\n    {this.storyList()}\r\n    \r\n      </tbody>\r\n      \r\n\r\n      </table>\r\n   \r\n      </div> );\r\n  }\r\n}\r\n  \r\nexport default AdminStory;"]},"metadata":{},"sourceType":"module"}